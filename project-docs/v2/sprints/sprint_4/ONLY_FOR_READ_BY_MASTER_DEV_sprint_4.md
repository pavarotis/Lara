ğŸŸ¨ SPRINT 4 â€” OpenCart-like Layout System (Regions + Modules + Rows) ğŸ¯ Î£Î¤ÎŸÎ§ÎŸÎ£ SPRINT 4 ÎÎ± Î¼Ï€Î¿ÏÎµÎ¯Ï‚ Î±Ï€ÏŒ Ï„Î¿ admin Î½Î±: ÎµÏ€Î¹Î»Î­Î³ÎµÎ¹Ï‚ layout ÏƒÎµ ÎºÎ¬Î¸Îµ ÏƒÎµÎ»Î¯Î´Î± Î³ÎµÎ¼Î¯Î¶ÎµÎ¹Ï‚ regions (Î¸Î­ÏƒÎµÎ¹Ï‚) ÏŒÏ€Ï‰Ï‚ ÏƒÏ„Î¿ OpenCart Î²Î¬Î¶ÎµÎ¹Ï‚ modules Î¼Îµ ÏƒÎµÎ¹ÏÎ¬, enable/disable Î­Ï‡ÎµÎ¹Ï‚ 3-level rows Ï€Î±Î½Ï„Î¿Ï Î¿ÏÎ¯Î¶ÎµÎ¹Ï‚ full width / contained / full-bg rows Ï‡Ï‰ÏÎ¯Ï‚ duplication views Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± ÏƒÏ€Î¬ÏƒÎµÎ¹Ï‚ Ï„Î¿ Ï…Ï€Î¬ÏÏ‡Î¿Î½ theming ÎœÎµÏ„Î¬ Ï„Î¿ Sprint 4: ğŸ‘‰ Â«Î¦Ï„Î¹Î¬Ï‡Î½Ï‰ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ ÏƒÎµÎ»Î¯Î´Î± Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± Î³ÏÎ¬ÏˆÏ‰ BladeÂ» --- ğŸ§  ÎšÎ•ÎÎ¤Î¡Î™ÎšÎ•Î£ Î‘Î ÎŸÎ¦Î‘Î£Î•Î™Î£ (LOCKED) âŒ ÎŒÏ‡Î¹ page builder Ï„ÏÏ€Î¿Ï… Elementor âœ… OpenCart logic: Layouts â†’ Regions â†’ Modules âœ… Page-level override + Theme defaults âœ… 3 ÎµÏ€Î¯Ï€ÎµÎ´Î± row Ï€Î±Î½Ï„Î¿Ï âœ… Business-scoped ÏƒÎµ ÏŒÎ»Î± --- ğŸ§© Î‘Î¡Î§Î™Î¤Î•ÎšÎ¤ÎŸÎÎ™ÎšÎ— Î£Î¥ÎœÎ Î•Î¡Î™Î¦ÎŸÎ¡Î‘ (Î½Î¿Î·Ï„Î¹ÎºÏŒ Î¼Î¿Î½Ï„Î­Î»Î¿) 1. Î£ÎµÎ»Î¯Î´Î± (Content) Î­Ï‡ÎµÎ¹ layout Î­Ï‡ÎµÎ¹ slug, SEO, status 2. Layout Î¿ÏÎ¯Î¶ÎµÎ¹ Ï€Î¿Î¹Î± regions Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ 3. Region Î­Ï‡ÎµÎ¹ modules ÏƒÎµ ÏƒÎµÎ¹ÏÎ¬ 4. Module instance type (hero, text, image, menu ÎºÎ»Ï€) settings style/variant row width mode --- ğŸ“¦ SPRINT 4 â€” Î‘ÎÎ‘Î›Î¥Î¤Î™ÎšÎ‘ TASKS ğŸ”¹ TASK GROUP A â€” Layout Engine Core (Backend) A1. Layout & Region Model ÎŸÏÎ¯Î¶ÎµÎ¹Ï‚ ÏƒÏ„Î±Î¸ÎµÏÏŒ ÏƒÏÎ½Î¿Î»Î¿ regions: header_top header_bottom content_top column_left main_content column_right content_bottom footer_top footer_bottom ÎŸÏÎ¯Î¶ÎµÎ¹Ï‚ layout types: default full-width landing ğŸ“Œ Î”ÎµÎ½ ÎµÎ¯Î½Î±Î¹ views â€” ÎµÎ¯Î½Î±Î¹ configuration --- A2. Module Instance Concept ÎšÎ¬Î¸Îµ module Ï€Î¿Ï… Î²Î»Î­Ï€ÎµÎ¹Ï‚ ÏƒÏ„Î· ÏƒÎµÎ»Î¯Î´Î± ÎµÎ¯Î½Î±Î¹: instance (ÏŒÏ‡Î¹ hardcoded include) scoped ÏƒÎµ business reusable ÏƒÎµ Ï€Î¿Î»Î»Î­Ï‚ ÏƒÎµÎ»Î¯Î´ÎµÏ‚ Module instance Î­Ï‡ÎµÎ¹: type (hero, rich_text, image, menu, gallery ÎºÎ»Ï€) settings (JSON) style (JSON) enabled sort_order region --- A3. Page Overrides vs Theme Defaults ÎšÎ±Î½ÏŒÎ½Î±Ï‚: Î‘Î½ ÏƒÎµÎ»Î¯Î´Î± Î­Ï‡ÎµÎ¹ modules â†’ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ Î±Ï…Ï„Î¬ Î‘Î½ ÏŒÏ‡Î¹ â†’ fallback ÏƒÏ„Î± theme defaults ğŸ“Œ Î‘Ï…Ï„ÏŒ Î´Î¯Î½ÎµÎ¹ OpenCart-like ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬. --- ğŸ”¹ TASK GROUP B â€” 3-Level Rows System (Core Concept) B1. Standard Row Pattern (Ï€Î±Î½Ï„Î¿Ï) ÎšÎ¬Î¸Îµ module Î±Ï€Î¿Î´Î¯Î´ÎµÏ„Î±Î¹ Ï€Î¬Î½Ï„Î± Ï‰Ï‚: 1ï¸âƒ£ Row wrapper â€“ background, image, full-width control 2ï¸âƒ£ Container level â€“ max-width Î® ÏŒÏ‡Î¹ 3ï¸âƒ£ Inner content â€“ grid, columns, actual module UI ğŸ“Œ Î‘ÎºÏŒÎ¼Î± ÎºÎ±Î¹ Î±Ï€Î»ÏŒ text module â†’ Î¯Î´Î¹Î¿ pattern --- B2. Width Modes (per module) ÎšÎ¬Î¸Îµ module instance ÎµÏ€Î¹Î»Î­Î³ÎµÎ¹: contained full full-bg-contained-content ğŸ“Œ Î‘Ï…Ï„ÏŒ Î»ÏÎ½ÎµÎ¹: edge-to-edge ÎµÎ¹ÎºÏŒÎ½ÎµÏ‚ hero banners section backgrounds --- ğŸ”¹ TASK GROUP C â€” Module Registry & Rendering C1. Module Registry ÎŸÏÎ¯Î¶ÎµÎ¹Ï‚ Î»Î¯ÏƒÏ„Î± ÎµÏ€Î¹Ï„ÏÎµÏ€Ï„ÏÎ½ modules (v1): Hero Rich Text Image Banner Menu / Navigation Products Grid Categories List Gallery CTA Map Opening Hours Contact Card FAQ Testimonials ğŸ“Œ ÎŒÏ‡Î¹ dynamic â€œÏŒ,Ï„Î¹ Î¸Î­Î»Ï‰â€ modules. --- C2. Render Flow Î£Ï…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬ rendering: Î’ÏÎ¯ÏƒÎºÎµÎ¹ current business (middleware Ï…Ï€Î¬ÏÏ‡ÎµÎ¹) Î¦Î¿ÏÏ„ÏÎ½ÎµÎ¹ content â†’ layout â†’ regions Î¦Î¿ÏÏ„ÏÎ½ÎµÎ¹ modules per region Render â†’ cache â†’ serve ğŸ“Œ Cache key: layout:{business_id}:{page_slug}:{theme} --- ğŸ”¹ TASK GROUP D â€” Admin UI (Filament) D1. Page â†’ Layout ÎµÏ€Î¹Î»Î¿Î³Î® Î£Ï„Î¿ Content editor: dropdown layout preview structure (regions) --- D2. Region â†’ Modules management Î“Î¹Î± ÎºÎ¬Î¸Îµ region: add module reorder (drag & drop) enable / disable edit settings edit style (width mode, background) ğŸ“Œ UX ÏƒÎ±Î½ OpenCart, ÏŒÏ‡Î¹ ÏƒÎ±Î½ builder --- D3. Module Settings Forms ÎšÎ¬Î¸Îµ module Î­Ï‡ÎµÎ¹ Î´Î¹ÎºÏŒ Ï„Î¿Ï… form: ÏŒÏ‡Î¹ raw JSON fields based ÏƒÏ„Î¿ module type --- ğŸ”¹ TASK GROUP E â€” Theme Defaults Integration E1. Theme Default Layout ÎšÎ¬Î¸Îµ theme preset Î­Ï‡ÎµÎ¹: default layout default modules Î±Î½Î¬ region ğŸ“Œ Î .Ï‡. Cafe theme: header_top â†’ logo + menu content_top â†’ hero footer â†’ hours + socials --- E2. Override Strategy Î‘Î½ page Î­Ï‡ÎµÎ¹ override â†’ override Î‘Î»Î»Î¹ÏÏ‚ â†’ theme default --- ğŸ”¹ TASK GROUP F â€” Safety, Rules, Performance F1. Business Isolation ÎŒÎ»Î± Ï„Î± layouts/modules scoped Î¼Îµ business_id Middleware enforced Policies apply --- F2. Limits / Guardrails max modules per region (Ï€.Ï‡. 10) max header variants predefined module list ğŸ“Œ Î“Î¹Î± Î½Î± Î¼Î·Î½ Î³Î¯Î½ÎµÎ¹ Ï‡Î¬Î¿Ï‚. --- F3. Performance eager loading HTML caching clear cache on: module update theme change content publish --- ğŸ“¦ DELIVERABLES SPRINT 4 (Definition of Done) âœ” Î£ÎµÎ»Î¯Î´Î± = layout + regions + modules âœ” Header / footer Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ views Î±Î»Î»Î¬ regions âœ” Full-width ÎµÎ¹ÎºÏŒÎ½Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î¼Ï€ÎµÎ¹ Î¿Ï€Î¿Ï…Î´Î®Ï€Î¿Ï„Îµ âœ” 3-level rows Î´Î¿Ï…Î»ÎµÏÎ¿Ï…Î½ Ï€Î±Î½Ï„Î¿Ï âœ” Modules reusable âœ” Theme defaults + page overrides âœ” Admin UI usable Î±Ï€ÏŒ non-dev âœ” Zero duplication ÏƒÎµ Blade views --- ğŸ§  Î¤Î™ Î”Î•Î ÎšÎ‘ÎÎ•Î™ Î¤ÎŸ SPRINT 4 âŒ Î”ÎµÎ½ ÎºÎ¬Î½ÎµÎ¹ theming tokens âŒ Î”ÎµÎ½ ÎºÎ¬Î½ÎµÎ¹ headless API âŒ Î”ÎµÎ½ ÎºÎ¬Î½ÎµÎ¹ plugins âŒ Î”ÎµÎ½ ÎºÎ¬Î½ÎµÎ¹ subdomain routing Î‘Ï…Ï„Î¬ ÎµÎ¯Î½Î±Î¹ Sprint 5â€“6. Ï€Ï‰Ïƒ ÏƒÎ¿Ï… Ï†Î±Î¹Î½ÎµÏ„Î±Î¹ Î±Ï…Ï„Î· Î· Î±Î»Î»Î±Î³Î· ?